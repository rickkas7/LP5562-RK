<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LP5562-RK: LP5562Program Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LP5562-RK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">LP5562Program Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for programming the <a class="el" href="class_l_p5562.html" title="Class for the LP5562 LED driver. ">LP5562</a> directly.  
 <a href="class_l_p5562_program.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_l_p5562-_r_k_8h_source.html">LP5562-RK.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a32355d0ed6904b0b336ae3a35a497c8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a32355d0ed6904b0b336ae3a35a497c8c">LP5562Program</a> ()</td></tr>
<tr class="memdesc:a32355d0ed6904b0b336ae3a35a497c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a programming object. This is the program for a single engine.  <a href="#a32355d0ed6904b0b336ae3a35a497c8c">More...</a><br /></td></tr>
<tr class="separator:a32355d0ed6904b0b336ae3a35a497c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973ba41cbec5eb618abc56b44c727a1e"><td class="memItemLeft" align="right" valign="top"><a id="a973ba41cbec5eb618abc56b44c727a1e"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a973ba41cbec5eb618abc56b44c727a1e">~LP5562Program</a> ()</td></tr>
<tr class="memdesc:a973ba41cbec5eb618abc56b44c727a1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a973ba41cbec5eb618abc56b44c727a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2afdbf149f8d07cf46e4100f6cba46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a6f2afdbf149f8d07cf46e4100f6cba46">addCommandWait</a> (bool prescale, uint8_t stepTime, int atInst=-1)</td></tr>
<tr class="memdesc:a6f2afdbf149f8d07cf46e4100f6cba46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a wait command (ramp/wait with increment of 0)  <a href="#a6f2afdbf149f8d07cf46e4100f6cba46">More...</a><br /></td></tr>
<tr class="separator:a6f2afdbf149f8d07cf46e4100f6cba46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74344b63c103c4f4c5acb09613924c7d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a74344b63c103c4f4c5acb09613924c7d">addCommandRamp</a> (bool prescale, uint8_t stepTime, bool decrease, uint8_t numSteps, int atInst=-1)</td></tr>
<tr class="memdesc:a74344b63c103c4f4c5acb09613924c7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a ramp.  <a href="#a74344b63c103c4f4c5acb09613924c7d">More...</a><br /></td></tr>
<tr class="separator:a74344b63c103c4f4c5acb09613924c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7411a785dbf01cd0a77191481b2986"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a7e7411a785dbf01cd0a77191481b2986">addCommandSetPWM</a> (uint8_t level, int atInst=-1)</td></tr>
<tr class="memdesc:a7e7411a785dbf01cd0a77191481b2986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a specific PWM level.  <a href="#a7e7411a785dbf01cd0a77191481b2986">More...</a><br /></td></tr>
<tr class="separator:a7e7411a785dbf01cd0a77191481b2986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b65da17966554c0b110bb431efacbe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a42b65da17966554c0b110bb431efacbe">addCommandGoToStart</a> (int atInst=-1)</td></tr>
<tr class="memdesc:a42b65da17966554c0b110bb431efacbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Go to start of program (instruction 0)  <a href="#a42b65da17966554c0b110bb431efacbe">More...</a><br /></td></tr>
<tr class="separator:a42b65da17966554c0b110bb431efacbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6e5407e3dcc82c29a0bcd749ac8d3e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a2f6e5407e3dcc82c29a0bcd749ac8d3e">addCommandBranch</a> (uint8_t loopCount, uint8_t stepNum, int atInst=-1)</td></tr>
<tr class="memdesc:a2f6e5407e3dcc82c29a0bcd749ac8d3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop and branch.  <a href="#a2f6e5407e3dcc82c29a0bcd749ac8d3e">More...</a><br /></td></tr>
<tr class="separator:a2f6e5407e3dcc82c29a0bcd749ac8d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad802743e5561982709b63cf4bba2d5d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#ad802743e5561982709b63cf4bba2d5d5">addCommandEnd</a> (bool generateInterrupt, bool setPWMto0, int atInst=-1)</td></tr>
<tr class="memdesc:ad802743e5561982709b63cf4bba2d5d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">End program (instead of repeating)  <a href="#ad802743e5561982709b63cf4bba2d5d5">More...</a><br /></td></tr>
<tr class="separator:ad802743e5561982709b63cf4bba2d5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392a95a4624c126384fc29457ca7f177"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a392a95a4624c126384fc29457ca7f177">addCommandTriggerSend</a> (uint8_t engineMask, int atInst=-1)</td></tr>
<tr class="memdesc:a392a95a4624c126384fc29457ca7f177"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a trigger to other engines. Used to synchronize the three engines.  <a href="#a392a95a4624c126384fc29457ca7f177">More...</a><br /></td></tr>
<tr class="separator:a392a95a4624c126384fc29457ca7f177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b49ae4659ea6661eba3aa195df6dda"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#ac2b49ae4659ea6661eba3aa195df6dda">addCommandTriggerWait</a> (uint8_t engineMask, int atInst=-1)</td></tr>
<tr class="memdesc:ac2b49ae4659ea6661eba3aa195df6dda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a trigger from another engine. Used to synchronize the three engines.  <a href="#ac2b49ae4659ea6661eba3aa195df6dda">More...</a><br /></td></tr>
<tr class="separator:ac2b49ae4659ea6661eba3aa195df6dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22f65835030d277faef3ff6ee0c7038"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#ad22f65835030d277faef3ff6ee0c7038">addCommand</a> (uint16_t cmd, int atInst=-1)</td></tr>
<tr class="memdesc:ad22f65835030d277faef3ff6ee0c7038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level addCommand that takes a specific opcode. Normaly you'd use the high leve interface.  <a href="#ad22f65835030d277faef3ff6ee0c7038">More...</a><br /></td></tr>
<tr class="separator:ad22f65835030d277faef3ff6ee0c7038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77ec362715f1c0e3510fc854edaa6579"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a77ec362715f1c0e3510fc854edaa6579">addDelay</a> (unsigned long milliseconds)</td></tr>
<tr class="memdesc:a77ec362715f1c0e3510fc854edaa6579"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a delay in milliseconds.  <a href="#a77ec362715f1c0e3510fc854edaa6579">More...</a><br /></td></tr>
<tr class="separator:a77ec362715f1c0e3510fc854edaa6579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06804557b90c4cda84cda6be31384c4d"><td class="memItemLeft" align="right" valign="top"><a id="a06804557b90c4cda84cda6be31384c4d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a06804557b90c4cda84cda6be31384c4d">clear</a> ()</td></tr>
<tr class="memdesc:a06804557b90c4cda84cda6be31384c4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the current program. <br /></td></tr>
<tr class="separator:a06804557b90c4cda84cda6be31384c4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd17d64a81938df652eb51714fb8f4b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a8bd17d64a81938df652eb51714fb8f4b">getStepNum</a> () const</td></tr>
<tr class="memdesc:a8bd17d64a81938df652eb51714fb8f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current step number.  <a href="#a8bd17d64a81938df652eb51714fb8f4b">More...</a><br /></td></tr>
<tr class="separator:a8bd17d64a81938df652eb51714fb8f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcca8fa4e10872895a40c85e3eb00fa8"><td class="memItemLeft" align="right" valign="top"><a id="abcca8fa4e10872895a40c85e3eb00fa8"></a>
const uint16_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#abcca8fa4e10872895a40c85e3eb00fa8">getInstructions</a> () const</td></tr>
<tr class="memdesc:abcca8fa4e10872895a40c85e3eb00fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get access to the instruction buffer (16x 16-bit instruction words) <br /></td></tr>
<tr class="separator:abcca8fa4e10872895a40c85e3eb00fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad56957afd3bfa3ab6b5a4f178c24367d"><td class="memItemLeft" align="right" valign="top"><a id="ad56957afd3bfa3ab6b5a4f178c24367d"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#ad56957afd3bfa3ab6b5a4f178c24367d">nextInst</a> = 0</td></tr>
<tr class="memdesc:ad56957afd3bfa3ab6b5a4f178c24367d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The next instruction to write to, or after all have been written, the number of instructions in this program. Will always be 0 &lt;= nextInst &lt;= MAX_INSTRUCTIONS. <br /></td></tr>
<tr class="separator:ad56957afd3bfa3ab6b5a4f178c24367d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406daaf3037664e0f7a642e46b2bb82f"><td class="memItemLeft" align="right" valign="top"><a id="a406daaf3037664e0f7a642e46b2bb82f"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a406daaf3037664e0f7a642e46b2bb82f">instructions</a> [<a class="el" href="class_l_p5562_program.html#a3fbe24c76c320e590e851fda45150920">MAX_INSTRUCTIONS</a>]</td></tr>
<tr class="memdesc:a406daaf3037664e0f7a642e46b2bb82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The array of program instructions. Each instruction is a 16-bit word. <br /></td></tr>
<tr class="separator:a406daaf3037664e0f7a642e46b2bb82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a3fbe24c76c320e590e851fda45150920"><td class="memItemLeft" align="right" valign="top"><a id="a3fbe24c76c320e590e851fda45150920"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_l_p5562_program.html#a3fbe24c76c320e590e851fda45150920">MAX_INSTRUCTIONS</a> = 16</td></tr>
<tr class="memdesc:a3fbe24c76c320e590e851fda45150920"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of instructions is 16, imposed by the hardware. <br /></td></tr>
<tr class="separator:a3fbe24c76c320e590e851fda45150920"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for programming the <a class="el" href="class_l_p5562.html" title="Class for the LP5562 LED driver. ">LP5562</a> directly. </p>
<p>You'll need to read the datasheet to understand this, probably. There are a bunch of hardware limitations and a very small program size of 16 instructions to work with. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a32355d0ed6904b0b336ae3a35a497c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32355d0ed6904b0b336ae3a35a497c8c">&#9670;&nbsp;</a></span>LP5562Program()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LP5562Program::LP5562Program </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a programming object. This is the program for a single engine. </p>
<p>This object is small (36 bytes) so it's OK to allocate one on the stack. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad22f65835030d277faef3ff6ee0c7038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad22f65835030d277faef3ff6ee0c7038">&#9670;&nbsp;</a></span>addCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommand </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level addCommand that takes a specific opcode. Normaly you'd use the high leve interface. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>16-bit program instruction word.</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f6e5407e3dcc82c29a0bcd749ac8d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f6e5407e3dcc82c29a0bcd749ac8d3e">&#9670;&nbsp;</a></span>addCommandBranch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandBranch </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>loopCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>stepNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loop and branch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loopCount</td><td>The number of times to loop (1 - 63)</td></tr>
    <tr><td class="paramname">stepNum</td><td>The step number to go to when looping (0 - 15)</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program.</td></tr>
  </table>
  </dd>
</dl>
<p>After loopCount is reached, then the next statement is executed.</p>
<p>Loops can be nested for loops larger than 63.</p>
<p>One common thing is to put a wait in a loop, which allows you to wait up to 62 seconds. </p>

</div>
</div>
<a id="ad802743e5561982709b63cf4bba2d5d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad802743e5561982709b63cf4bba2d5d5">&#9670;&nbsp;</a></span>addCommandEnd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandEnd </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>generateInterrupt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>setPWMto0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End program (instead of repeating) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">generateInterrupt</td><td>Generate a software interrupt when reached if this parameter is true</td></tr>
    <tr><td class="paramname">setPWMto0</td><td>If true, set the PWM to 0. If false, leave it unchanged.</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program.</td></tr>
  </table>
  </dd>
</dl>
<p>This puts the engine into HOLD mode and stops execution of this engine. </p>

</div>
</div>
<a id="a42b65da17966554c0b110bb431efacbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42b65da17966554c0b110bb431efacbe">&#9670;&nbsp;</a></span>addCommandGoToStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandGoToStart </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Go to start of program (instruction 0) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program.</td></tr>
  </table>
  </dd>
</dl>
<p>This opcode is 0x0000, which is also what the uninitialize program bytes are set to. So as long as your program is 15 or fewer instructions, you don't need to add this to make your program auto-repeat. </p>

</div>
</div>
<a id="a74344b63c103c4f4c5acb09613924c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74344b63c103c4f4c5acb09613924c7d">&#9670;&nbsp;</a></span>addCommandRamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandRamp </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>prescale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>stepTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>decrease</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>numSteps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a ramp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prescale</td><td>false = 0.49 ms cycle time; true = 15.6 ms cycle time</td></tr>
    <tr><td class="paramname">stepTime</td><td>Wait this this many cycles (1 - 63)</td></tr>
    <tr><td class="paramname">decrease</td><td>false = step up, true = step down</td></tr>
    <tr><td class="paramname">numSteps</td><td>Number of times the PWM is increased by 1.</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program.</td></tr>
  </table>
  </dd>
</dl>
<p>Step times vary depending on prescale. With prescale = false, .49 ms to 7.35 ms. With prescale = true, 15.6 ms to 982.8 ms.</p>
<p>The starting and ending point of the ramp depend on the current PWM value when you start, when you are incrementing or decrementing, and the number of steps. </p>

</div>
</div>
<a id="a7e7411a785dbf01cd0a77191481b2986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7411a785dbf01cd0a77191481b2986">&#9670;&nbsp;</a></span>addCommandSetPWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandSetPWM </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a specific PWM level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The level (0 = off, 255 = full brightness)</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a392a95a4624c126384fc29457ca7f177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392a95a4624c126384fc29457ca7f177">&#9670;&nbsp;</a></span>addCommandTriggerSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandTriggerSend </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>engineMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a trigger to other engines. Used to synchronize the three engines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engineMask</td><td>A mask of the engines to send to. Logical OR the values MASK_ENGINE_1, MASK_ENGINE_2, and MASK_ENGINE_3. You will only send to one or two, you should not send to yourself!</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program.</td></tr>
  </table>
  </dd>
</dl>
<p>When you send a trigger, this instruction will block until the engines you sent to have hit a wait instruction. It will work if they hit the wait before you send, as well. </p>

</div>
</div>
<a id="ac2b49ae4659ea6661eba3aa195df6dda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2b49ae4659ea6661eba3aa195df6dda">&#9670;&nbsp;</a></span>addCommandTriggerWait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandTriggerWait </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>engineMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for a trigger from another engine. Used to synchronize the three engines. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engineMask</td><td>A mask of the engines to wait on. MASK_ENGINE_1, MASK_ENGINE_2, and MASK_ENGINE_3 can be logically ORed together. You should not wait on your own engine. In most cases you should have one engine be the trigger sender and wait on the two other engines since you cannot simultaneously send and wait.</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f2afdbf149f8d07cf46e4100f6cba46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2afdbf149f8d07cf46e4100f6cba46">&#9670;&nbsp;</a></span>addCommandWait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addCommandWait </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>prescale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>stepTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>atInst</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a wait command (ramp/wait with increment of 0) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prescale</td><td>false = 0.49 ms cycle time; true = 15.6 ms cycle time</td></tr>
    <tr><td class="paramname">stepTime</td><td>Wait this this many cycles (1 - 63)</td></tr>
    <tr><td class="paramname">atInst</td><td>(can omit) Normally instructions are added at the current end of the program but you can use the atInst parameter to set a specific instruction (0 - 15) in the program.</td></tr>
  </table>
  </dd>
</dl>
<p>Wait times vary depending on prescale. With prescale = false, .49 ms to 7.35 ms. With prescale = true, 15.6 ms to 982.8 ms. You can make even longer wait times by putting a wait in a loop. Since a loop can be executed up to 63 times, you can get a 62 second delay. </p>

</div>
</div>
<a id="a77ec362715f1c0e3510fc854edaa6579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77ec362715f1c0e3510fc854edaa6579">&#9670;&nbsp;</a></span>addDelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LP5562Program::addDelay </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>milliseconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a delay in milliseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">milliseconds</td><td>The number of milliseconds to delay (1 - 61916).</td></tr>
  </table>
  </dd>
</dl>
<p>There is no atInst option for this method because depending on the delay, it may add two instructions: a wait (for up to 1000 milliseconds), or a wait and a loop. Since it has a variable number of instructions, it can't be inserted into arbitrary code, only added at the end.</p>
<p>When the delay is &gt; 1000 milliseconds, the resolution is 1 second. </p>

</div>
</div>
<a id="a8bd17d64a81938df652eb51714fb8f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd17d64a81938df652eb51714fb8f4b">&#9670;&nbsp;</a></span>getStepNum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t LP5562Program::getStepNum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current step number. </p>
<p>Use this before you add a new command (like addCommandSetPWM) to remember the step number you are about to write. This can be used to overwrite the instruction using the atInst optional parameter.</p>
<p>This is most commonly done so you can modify a program that's run on multiple engines with different PWM values.</p>
<p>Also used to get the number of instructions after the last command has been written. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_l_p5562-_r_k_8h_source.html">LP5562-RK.h</a></li>
<li>src/LP5562-RK.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
